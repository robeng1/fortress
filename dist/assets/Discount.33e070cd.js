var ht=Object.defineProperty,gt=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var vt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable;var We=(a,o,s)=>o in a?ht(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s,q=(a,o)=>{for(var s in o||(o={}))vt.call(o,s)&&We(a,s,o[s]);if(Je)for(var s of Je(o))Nt.call(o,s)&&We(a,s,o[s]);return a},Ze=(a,o)=>gt(a,xt(o));import{Z as kt,$ as wt,Y as St,ap as Ct,a4 as Ot,X as It,ac as Pt,u as Rt,e as x,z as T,g as Ve,d as t,F as qt,j as n,aq as $t,m as le,ar as X,ad as ae}from"./vendor.58b0d04f.js";import{g as Dt,a as Tt,i as et,f as tt,c as Mt,d as Et}from"./identity.68789a2a.js";import{U as At,D as Bt,T as Ft,d as Lt}from"./index.df210139.js";/* empty css              */import{L as jt}from"./Loader.be86b23a.js";import{a as be,r as $,b as Yt,m as W,s as w}from"./index.e628a3e4.js";import{S as G}from"./modal-searcher.562a0bef.js";import"./index.5f62a056.js";import"./memoize-one.esm.2caadecc.js";var it=kt,Qt=wt,Xt=St,nt=it?it.isConcatSpreadable:void 0;function Gt(a){return Xt(a)||Qt(a)||!!(nt&&a&&a[nt])}var Kt=Gt,Ut=Dt,zt=Kt;function ct(a,o,s,i,y){var r=-1,I=a.length;for(s||(s=zt),y||(y=[]);++r<I;){var m=a[r];o>0&&s(m)?o>1?ct(m,o-1,s,i,y):Ut(y,m):i||(y[y.length]=m)}return y}var Ht=ct;function Jt(a,o,s){switch(s.length){case 0:return a.call(o);case 1:return a.call(o,s[0]);case 2:return a.call(o,s[0],s[1]);case 3:return a.call(o,s[0],s[1],s[2])}return a.apply(o,s)}var Wt=Jt,Zt=Wt,lt=Math.max;function Vt(a,o,s){return o=lt(o===void 0?a.length-1:o,0),function(){for(var i=arguments,y=-1,r=lt(i.length-o,0),I=Array(r);++y<r;)I[y]=i[o+y];y=-1;for(var m=Array(o+1);++y<o;)m[y]=i[y];return m[o]=s(I),Zt(a,this,m)}}var ei=Vt;function ti(a){return function(){return a}}var ii=ti,ni=ii,at=Tt,ci=et,li=at?function(a,o){return at(a,"toString",{configurable:!0,enumerable:!1,value:ni(o),writable:!0})}:ci,ai=li,si=800,oi=16,ri=Date.now;function di(a){var o=0,s=0;return function(){var i=ri(),y=oi-(i-s);if(s=i,y>0){if(++o>=si)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}var _i=di,mi=ai,ui=_i,pi=ui(mi),yi=pi,fi=et,bi=ei,hi=yi;function gi(a,o){return hi(bi(a,o,fi),a+"")}var xi=gi;function vi(a,o,s,i){for(var y=a.length,r=s+(i?1:-1);i?r--:++r<y;)if(o(a[r],r,a))return r;return-1}var Ni=vi;function ki(a){return a!==a}var wi=ki;function Si(a,o,s){for(var i=s-1,y=a.length;++i<y;)if(a[i]===o)return i;return-1}var Ci=Si,Oi=Ni,Ii=wi,Pi=Ci;function Ri(a,o,s){return o===o?Pi(a,o,s):Oi(a,Ii,s)}var qi=Ri,$i=qi;function Di(a,o){var s=a==null?0:a.length;return!!s&&$i(a,o,0)>-1}var Ti=Di;function Mi(a,o,s){for(var i=-1,y=a==null?0:a.length;++i<y;)if(s(o,a[i]))return!0;return!1}var Ei=Mi;function Ai(){}var Bi=Ai,he=Ct,Fi=Bi,Li=tt,ji=1/0,Yi=he&&1/Li(new he([,-0]))[1]==ji?function(a){return new he(a)}:Fi,Qi=Yi,Xi=Mt,Gi=Ti,Ki=Ei,Ui=Et,zi=Qi,Hi=tt,Ji=200;function Wi(a,o,s){var i=-1,y=Gi,r=a.length,I=!0,m=[],P=m;if(s)I=!1,y=Ki;else if(r>=Ji){var Z=o?null:zi(a);if(Z)return Hi(Z);I=!1,y=Ui,P=new Xi}else P=o?[]:m;e:for(;++i<r;){var R=a[i],S=o?o(R):R;if(R=s||R!==0?R:0,I&&S===S){for(var K=P.length;K--;)if(P[K]===S)continue e;o&&P.push(S),m.push(R)}else y(P,S,s)||(P!==m&&P.push(S),m.push(R))}return m}var Zi=Wi,Vi=Ot,en=It;function tn(a){return en(a)&&Vi(a)}var nn=tn,cn=Ht,ln=xi,an=Zi,sn=nn,on=ln(function(a){return an(cn(a,1,sn,!0))}),O=on;const N={title:"",description:"",page_title:"",page_description:"",type:"site",all_products:!1,specific_products:!1,included_products:[],excluded_products:[],included_collections:[],incentive_type:"percentage",max_affected_items:null,buy_x_get_y_condition_value:"",buy_x_get_y_condition_range_type:"specific_products",buy_x_get_y_condition_range_keys:[],buy_x_get_y_condition_type:"count",buy_x_get_y_ben_range_type:"specific_products",buy_x_get_y_ben_range_keys:[],buy_x_get_y_ben_max_affected_items:1,buy_x_get_y_discounted_value_type:"percentage",buy_x_get_y_discounted_value:"",condition_value_money:"",condition_value_int:1,condition_type:"none",value:"",applies_to:"all_products",exclusive:!0,customer_eligibility:"everyone",has_max_global_applications:!1,has_max_user_applications:!1,has_max_discount:!1,max_basket_applications:1,max_discount:"",max_user_applications:void 0,max_global_applications:void 0,start_date:"",start_time:"",end_date:"",end_time:"",cover_photo:"",code_type:"single",code:"",code_usage:"",code_length:6,number_of_codes:2},gn=({handleShow:a,id:o})=>{var qe;const s=Pt(),[i]=Rt(Yt),y=`${be}/shops/${i==null?void 0:i.shop_id}/offers`,[r,I]=x.exports.useState(o),{data:m,isLoading:P}=T(["discount",r],async()=>await $(`${y}/${r}`),{enabled:!!r,keepPreviousData:!0}),[Z,R]=x.exports.useState((qe=m==null?void 0:m.cover_photo)==null?void 0:qe.image_url),S=(e,l)=>v=>{e(l,[...v])},[K,ge]=x.exports.useState(!1),[xe,ve]=x.exports.useState(!1),[Ne,ke]=x.exports.useState(!1),[we,Se]=x.exports.useState(!1),[Ce,Oe]=x.exports.useState(!1),[Ie,Pe]=x.exports.useState(!1),[M,U]=x.exports.useState(!1),[V,se]=x.exports.useState([]),[ee,oe]=x.exports.useState([]),[te,re]=x.exports.useState([]),[ie,de]=x.exports.useState([]),[ne,_e]=x.exports.useState([]),[ce,me]=x.exports.useState([]),st=e=>{var v,d,_,p,B,F,L,D,j,c,f,u,b,H,C,J,Y,h,k,g,Q,$e,De,Te,Me,Ee,Ae,Be,Fe,Le,je,Ye,Qe,Xe,Ge,Ke,Ue,ze,He;if(!e)return N;const l=Ze(q({},N),{title:e.name||N.title,description:e.description||N.description,type:e.offer_type||N.type,max_basket_applications:e.max_basket_applications||1,max_global_applications:e.max_global_applications,max_user_applications:e.max_user_applications,page_title:e.page_title||N.page_title,page_description:e.page_description||N.page_description,start_date:X(e.start).format("YYYY-MM-DD"),start_time:X(e.start).format("HH:mm:ss"),end_date:X(e.end).format("YYYY-MM-DD"),end_time:X(e.end).format("HH:mm:ss")});return((v=e.benefit)==null?void 0:v.benefit_type)==="fixed_discount"||((d=e.benefit)==null?void 0:d.benefit_type)==="fixed_price"||((_=e.benefit)==null?void 0:_.benefit_type)==="multibuy"||((p=e.benefit)==null?void 0:p.benefit_type)==="percentage"?(l.condition_type=((B=e.condition)==null?void 0:B.condition_type)||N.condition_type,((F=e.condition)==null?void 0:F.condition_type)==="coverage"||((L=e.condition)==null?void 0:L.condition_type)==="count"?l.condition_value_int=e.condition.value_int||N.condition_value_int:((D=e.condition)==null?void 0:D.condition_type)==="value"&&(l.condition_value_money=W(e.condition.money_value)),e.benefit&&(l.incentive_type=e.benefit.benefit_type||N.incentive_type,l.applies_to=((j=e.benefit.collection)==null?void 0:j.includes_all_products)?"all_products":"",e.benefit.collection&&((c=e.benefit.collection)==null?void 0:c.included_collections)&&((u=(f=e.benefit.collection)==null?void 0:f.included_collections)==null?void 0:u.length)>0?(l.applies_to="specific_collections",l.included_collections=(b=e.benefit.collection)==null?void 0:b.included_collections,oe(l.included_collections||[])):e.benefit.collection&&((H=e.benefit.collection)==null?void 0:H.included_products)&&((J=(C=e.benefit.collection)==null?void 0:C.included_products)==null?void 0:J.length)>0&&(l.applies_to="specific_products",l.included_products=(Y=e.benefit.collection)==null?void 0:Y.included_products,se(l.included_products||[])),e.benefit.value_m?l.value=W(e.benefit.value_m):e.benefit.value_i&&(l.value=e.benefit.value_i))):(e.condition&&(l.buy_x_get_y_condition_type=((h=e.condition)==null?void 0:h.condition_type)||N.buy_x_get_y_condition_type,((k=e.condition)==null?void 0:k.condition_type)==="coverage"||((g=e.condition)==null?void 0:g.condition_type)==="count"?l.buy_x_get_y_condition_value=e.condition.value_int||N.buy_x_get_y_condition_value:((Q=e.condition)==null?void 0:Q.condition_type)==="value"&&(l.buy_x_get_y_condition_value=W(e.condition.money_value)),l.buy_x_get_y_condition_range_type=(($e=e.condition.collection)==null?void 0:$e.includes_all_products)?"all_products":"",e.condition.collection&&((De=e.condition.collection)==null?void 0:De.included_collections)&&((Me=(Te=e.condition.collection)==null?void 0:Te.included_collections)==null?void 0:Me.length)>0?(l.buy_x_get_y_condition_range_type="specific_collections",l.buy_x_get_y_condition_range_keys=((Ee=e.condition.collection)==null?void 0:Ee.included_collections)||N.buy_x_get_y_condition_range_keys,de(l.buy_x_get_y_condition_range_keys)):e.condition.collection&&((Ae=e.condition.collection)==null?void 0:Ae.included_products)&&((Fe=(Be=e.condition.collection)==null?void 0:Be.included_products)==null?void 0:Fe.length)>0&&(l.buy_x_get_y_condition_range_type="specific_products",l.buy_x_get_y_condition_range_keys=((Le=e.condition.collection)==null?void 0:Le.included_products)||N.buy_x_get_y_condition_range_keys,re(l.buy_x_get_y_condition_range_keys))),e.benefit&&(l.buy_x_get_y_discounted_value_type=e.benefit.benefit_type||N.buy_x_get_y_discounted_value_type,l.buy_x_get_y_ben_range_type=((je=e.benefit.collection)==null?void 0:je.includes_all_products)?"all_products":"",e.benefit.collection&&((Ye=e.benefit.collection)==null?void 0:Ye.included_collections)&&((Xe=(Qe=e.benefit.collection)==null?void 0:Qe.included_collections)==null?void 0:Xe.length)>0?(l.buy_x_get_y_ben_range_type="specific_collections",l.buy_x_get_y_ben_range_keys=(Ge=e.benefit.collection)==null?void 0:Ge.included_collections,me(l.buy_x_get_y_ben_range_keys)):e.benefit.collection&&((Ke=e.benefit.collection)==null?void 0:Ke.included_products)&&((ze=(Ue=e.benefit.collection)==null?void 0:Ue.included_products)==null?void 0:ze.length)>0&&(l.buy_x_get_y_ben_range_type="specific_products",l.buy_x_get_y_ben_range_keys=(He=e.benefit.collection)==null?void 0:He.included_products,_e(l.buy_x_get_y_ben_range_keys)),e.benefit.value_m?l.buy_x_get_y_discounted_value=W(e.benefit.value_m):e.benefit.value_i&&(l.buy_x_get_y_discounted_value=e.benefit.value_i),l.buy_x_get_y_ben_max_affected_items=e.benefit.max_affected_items||N.buy_x_get_y_ben_max_affected_items)),l.max_discount=W(e.max_discount),l},Re=e=>{var v,d,_,p,B,F,L,D,j,c,f,u,b,H;const l={shop_id:(i==null?void 0:i.shop_id)||"",discount_id:r,name:e.title,description:e.description,offer_type:e.type,max_basket_applications:e.max_basket_applications,max_global_applications:e.max_global_applications,max_user_applications:e.max_user_applications,page_title:e.page_title,page_description:e.page_description,start:X(e.start_date+" "+e.start_time).toISOString(),end:X(e.end_date+" "+e.end_time).toISOString(),cover_photo:{image_url:Z}};switch(l.max_discount=w(e.max_discount,(v=i==null?void 0:i.currency)==null?void 0:v.iso_code),e.incentive_type){case"fixed_discount":{const h={condition_type:e.condition_type};e.condition_type==="coverage"||e.condition_type==="count"?h.value_int=e.condition_value_int:e.condition_type==="value"?h.money_value=w(e.condition_value_money,(d=i==null?void 0:i.currency)==null?void 0:d.iso_code):(h.value_int=0,h.money_value=w(0,(_=i==null?void 0:i.currency)==null?void 0:_.iso_code)),l.condition=h;const k={benefit_type:e.incentive_type,value_m:w(e.value,(p=i==null?void 0:i.currency)==null?void 0:p.iso_code)},g={includes_all_products:e.applies_to==="all_products"};e.applies_to==="specific_products"&&(g.included_products=e.included_products),e.applies_to==="specific_collections"&&(g.included_collections=e.included_collections),k.collection=g,l.benefit=k;break}case"percentage":{const h={condition_type:e.condition_type};e.condition_type==="coverage"||e.condition_type==="count"?h.value_int=e.condition_value_int:e.condition_type==="value"?h.money_value=w(e.condition_value_money,(B=i==null?void 0:i.currency)==null?void 0:B.iso_code):(h.value_int=0,h.money_value=w(0,(F=i==null?void 0:i.currency)==null?void 0:F.iso_code)),l.condition=h;const k={benefit_type:e.incentive_type,value_i:parseInt(e.value)},g={includes_all_products:e.applies_to==="all_products"};e.applies_to==="specific_products"&&(g.included_products=e.included_products),e.applies_to==="specific_collections"&&(g.included_collections=e.included_collections),k.collection=g,l.benefit=k;break}case"multibuy":const C={condition_type:e.condition_type};e.condition_type==="coverage"||e.condition_type==="count"?C.value_int=e.condition_value_int:e.condition_type==="value"?C.money_value=w(e.condition_value_money,(L=i==null?void 0:i.currency)==null?void 0:L.iso_code):(C.value_int=0,C.money_value=w(0,(D=i==null?void 0:i.currency)==null?void 0:D.iso_code)),l.condition=C;const J={benefit_type:e.incentive_type},Y={includes_all_products:e.applies_to==="all_products"};e.applies_to==="specific_products"&&(Y.included_products=e.included_products),e.applies_to==="specific_collections"&&(Y.included_collections=e.included_collections),J.collection=Y,l.benefit=J;break;case"fixed_price":{const h={condition_type:e.condition_type};e.condition_type==="coverage"||e.condition_type==="count"?h.value_int=e.condition_value_int:e.condition_type==="value"?h.money_value=w(e.condition_value_money,(j=i==null?void 0:i.currency)==null?void 0:j.iso_code):(h.value_int=0,h.money_value=w(0,(c=i==null?void 0:i.currency)==null?void 0:c.iso_code)),l.condition=h;const k={benefit_type:e.incentive_type,value_m:w(e.value,(f=i==null?void 0:i.currency)==null?void 0:f.iso_code)},g={includes_all_products:e.applies_to==="all_products"};e.applies_to==="specific_products"&&(g.included_products=e.included_products),e.applies_to==="specific_collections"&&(g.included_collections=e.included_collections),k.collection=g,l.benefit=k;break}case"buy-x-get-y":{const h={condition_type:e.buy_x_get_y_condition_type};e.buy_x_get_y_condition_type==="coverage"||e.buy_x_get_y_condition_type==="count"?h.value_int=e.buy_x_get_y_condition_value:e.buy_x_get_y_condition_type==="value"?h.money_value=w(e.buy_x_get_y_condition_value,(u=i==null?void 0:i.currency)==null?void 0:u.iso_code):(h.value_int=0,h.money_value=w(0,(b=i==null?void 0:i.currency)==null?void 0:b.iso_code));const k={includes_all_products:!1};e.buy_x_get_y_condition_range_type==="specific_products"&&(k.included_products=e.buy_x_get_y_condition_range_keys),e.buy_x_get_y_condition_range_type==="specific_collections"&&(k.included_collections=e.buy_x_get_y_condition_range_keys),h.collection=k,l.condition=h;const g={benefit_type:e.buy_x_get_y_discounted_value_type};e.buy_x_get_y_discounted_value_type==="fixed_discount"?g.value_m=w(e.buy_x_get_y_discounted_value,(H=i==null?void 0:i.currency)==null?void 0:H.iso_code):e.buy_x_get_y_discounted_value_type==="percentage"?g.value_i=parseInt(e.buy_x_get_y_discounted_value):e.buy_x_get_y_discounted_value_type==="free"&&(g.benefit_type="percentage",g.value_i=100),g.max_affected_items=e.buy_x_get_y_ben_max_affected_items;const Q={includes_all_products:e.buy_x_get_y_ben_range_type==="all_products"};e.buy_x_get_y_ben_range_type==="specific_products"&&(Q.included_products=e.buy_x_get_y_ben_range_keys),e.buy_x_get_y_ben_range_type==="specific_collections"&&(Q.included_collections=e.buy_x_get_y_ben_range_keys),g.collection=Q,l.benefit=g;break}}if(e.type==="voucher"){if(e.code_type==="single"){const C={voucher_id:"",code:e.code,shop_id:i==null?void 0:i.shop_id,discount_id:r,usage:e.code_usage};l.vouchers=[C]}else if(e.code_type==="set"){const C={set_id:"",shop_id:i==null?void 0:i.shop_id,usage:e.code_usage,discount_id:r,code_length:e.code_length,count:e.number_of_codes};l.voucher_sets=[C]}}return l},{mutate:ot}=Ve(e=>$(y,{method:"POST",body:JSON.stringify(e)}),{onSuccess:e=>{I(e.discount_id),s.setQueryData(["discount",r],e),ae("Discount created successfully")},onError:e=>{ae("Collection creation failed due to "+e.message)}}),{mutate:rt}=Ve(e=>$(`${y}/${r}`,{method:"PATCH",body:JSON.stringify(e)}),{onSuccess:e=>{I(e.discount_id),s.setQueryData(["discount",r],e),ae("Discount updated successfully")},onError:e=>{ae("Discount could not be updated due to"+e.message)}}),dt=e=>{const l=e.successful[0].uploadURL;R(l)},z=x.exports.useMemo(()=>new At({id:"discount",autoProceed:!1,restrictions:{maxFileSize:15*1024*1024,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["image/*","video/*"]}}).use(Bt,{target:document.body}).on("complete",dt).use(Ft,{endpoint:"https://storage.reoplex.com/files/"}),[]),_t=e=>{e.forEach(l=>{z.addFile({name:l.name,type:l.type,data:l.blob})}),Object.keys(z.state.files).forEach(l=>{z.setFileState(l,{progress:{uploadComplete:!0,uploadStarted:!0}})})};x.exports.useEffect(()=>{var e,l,v,d;((e=m==null?void 0:m.cover_photo)==null?void 0:e.image_url)&&((l=m==null?void 0:m.cover_photo)==null?void 0:l.image_url)!==""&&((v=m==null?void 0:m.cover_photo)==null?void 0:v.image_url)!==void 0&&fetch((d=m==null?void 0:m.cover_photo)==null?void 0:d.image_url).then(_=>_.blob()).then(_=>{_t([{name:m==null?void 0:m.slug,type:_.type,data:_}])})},[m]),x.exports.useEffect(()=>()=>z.close(),[]);const E=`${be}/shops/${i==null?void 0:i.shop_id}/collections/option-search`,A=`${be}/shops/${i==null?void 0:i.shop_id}/products/option-search`,ue=e=>({limit:15,term:e,shop_id:i==null?void 0:i.shop_id,type:"product"}),pe=e=>({limit:15,term:e,shop_id:i==null?void 0:i.shop_id,type:"collection"}),ye=e=>{let l=`SELECT * FROM product WHERE shop_id = '${i==null?void 0:i.shop_id}' AND product_id IN (`;return e.forEach((v,d)=>{d===e.length?l+=`'${v}'`:l+=`'${v}',`}),l+=")",l},fe=e=>{let l=`SELECT * FROM collection WHERE shop_id = '${i==null?void 0:i.shop_id}' AND collection_id IN (`;return e.forEach((v,d)=>{d===e.length?l+=`'${v}'`:l+=`'${v}',`}),l+=")",l},{data:{result:mt}}=T(["included-products",r],async()=>await $(A,{method:"POST",body:JSON.stringify({query:ye(V)})}),{enabled:!!r&&V.length>0&&!M,keepPreviousData:!0,initialData:{result:[]}}),{data:{result:ut}}=T(["included-collections",r],async()=>await $(E,{method:"POST",body:JSON.stringify({query:fe(ee)})}),{enabled:!!r&&ee.length>0&&!M,keepPreviousData:!0,initialData:{result:[]}}),{data:{result:pt}}=T(["cond-range-included-products",r],async()=>await $(A,{method:"POST",body:JSON.stringify({query:ye(te)})}),{enabled:!!r&&te.length>0&&M,keepPreviousData:!0,initialData:{result:[]}}),{data:{result:yt}}=T(["cond-range-included-collections",r],async()=>await $(E,{method:"POST",body:JSON.stringify({query:fe(ie)})}),{enabled:!!r&&ie.length>0&&M,keepPreviousData:!0,initialData:{result:[]}}),{data:{result:ft}}=T(["ben-range-included-products",r],async()=>await $(A,{method:"POST",body:JSON.stringify({query:ye(ne)})}),{enabled:!!r&&ne.length>0&&M,keepPreviousData:!0,initialData:{result:[]}}),{data:{result:bt}}=T(["ben-range-included-collections",r],async()=>await $(E,{method:"POST",body:JSON.stringify({query:fe(ce)})}),{enabled:!!r&&ce.length>0&&M,keepPreviousData:!0,initialData:{result:[]}});return t("div",{className:"w-full",children:P?t(jt,{}):t("div",{children:t(qt,{initialValues:q(q({},N),st(m)),onSubmit:(e,{setSubmitting:l})=>{m?rt(q(q({},m),Re(q({},e)))):ot(q({},Re(q({},e)))),l(!1)},children:({values:e,errors:l,touched:v,handleChange:d,handleBlur:_,setFieldValue:p,setFieldError:B,setValues:F,setFieldTouched:L,handleSubmit:D,isSubmitting:j})=>n("div",{className:"flex-grow w-full mx-auto self-center justify-center",children:[n("div",{className:"grid grid-cols-1 lg:grid-cols-2 md:grid-cols-2 gap-y-6 gap-x-6",children:[t("div",{className:"sm:col-span-3 md:col-span-3 lg:col-span-2",children:n("section",{className:"rounded bg-white shadow p-3",children:[t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"title",children:"Discount Title"}),t("input",{id:"title",name:"title",onChange:d,onBlur:_,value:e.title,className:"form-input w-full",type:"text",autoComplete:"discount-title",placeholder:"X-mas Sales"})]})}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:t("div",{className:"w-full",children:t("label",{className:"block text-sm font-medium mb-1",htmlFor:"description",children:"Description"})})}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"type",children:"Discount Type"}),n("select",{name:"type",onChange:d,onBlur:_,value:e.type,id:"type",className:"form-select block",children:[t("option",{value:"",children:"Please Select"}),t("option",{value:"site",children:"Automatic"}),t("option",{value:"voucher",children:"Manual"})]})]})})]})}),t("div",{className:"sm:col-span-3 md:col-span-3 lg:col-span-2",children:t("section",{className:"rounded bg-white shadow overflow-hidden p-3",children:t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"sm:w-full mt-1",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"incentive_type",children:"Type"}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"incentive_type",className:"form-radio",onChange:c=>{p("incentive_type","percentage"),U(!1)},checked:e.incentive_type==="percentage",value:e.incentive_type}),t("span",{className:"text-sm ml-2",children:"Percentage"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"incentive_type",className:"form-radio",onChange:c=>{p("incentive_type","fixed_discount"),U(!1)},checked:e.incentive_type==="fixed_discount",value:e.incentive_type}),t("span",{className:"text-sm ml-2",children:"Fixed amount"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"incentive_type",className:"form-radio",onChange:c=>{p("incentive_type","multibuy"),U(!1)},checked:e.incentive_type==="multibuy",value:e.incentive_type}),t("span",{className:"text-sm ml-2",children:"Multibuy"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"incentive_type",className:"form-radio",onChange:c=>{p("incentive_type","fixed_price"),U(!1)},checked:e.incentive_type==="fixed_price",value:e.incentive_type}),t("span",{className:"text-sm ml-2",children:"Fixed price"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"incentive_type",className:"form-radio",onChange:c=>{p("incentive_type","buy-x-get-y"),U(!0)},checked:e.incentive_type==="buy-x-get-y",value:e.incentive_type}),t("span",{className:"text-sm ml-2",children:"Buy X Get Y"})]})})]})})})}),n("div",{className:"sm:col-span-3 md:col-span-3 lg:col-span-2",children:[n("section",{className:`rounded bg-white shadow overflow-hidden p-3 mb-10 ${e.incentive_type==="buy-x-get-y"?"block":"hidden"}`,children:[t("h2",{className:"block text-lg font-semibold mb-1",children:"Customer buys"}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"buy_x_get_y_condition_type",className:"form-radio",onChange:c=>p("buy_x_get_y_condition_type","count"),checked:e.buy_x_get_y_condition_type==="count",value:e.buy_x_get_y_condition_type}),t("span",{className:"text-sm ml-2",children:"Minimum quantity of items"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"buy_x_get_y_condition_type",className:"form-radio",onChange:c=>p("buy_x_get_y_condition_type","value"),checked:e.buy_x_get_y_condition_type==="value",value:e.buy_x_get_y_condition_type}),t("span",{className:"text-sm ml-2",children:"Minimum purchase amount"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"buy_x_get_y_condition_type",className:"form-radio",onChange:c=>p("buy_x_get_y_condition_type","coverage"),checked:e.buy_x_get_y_condition_type==="coverage",value:e.buy_x_get_y_condition_type}),t("span",{className:"text-sm ml-2",children:"Minimum quantity of distinct items"})]})}),n("div",{children:[n("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:[n("div",{className:"w-1/2",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"buy_x_get_y_condition_value",children:e.buy_x_get_y_condition_type==="count"||e.buy_x_get_y_condition_type==="coverage"?"Quantity":"Amount"}),n("div",{className:`relative ${e.buy_x_get_y_condition_type==="count"||e.buy_x_get_y_condition_type==="coverage"||e.buy_x_get_y_condition_type===""?"hidden":"block"}`,children:[t("input",{className:"form-input w-full pl-12",type:"text",id:"buy_x_get_y_condition_value",name:"buy_x_get_y_condition_value",onChange:d,onBlur:_,value:e.buy_x_get_y_condition_value}),t("div",{className:"absolute inset-0 right-auto flex items-center pointer-events-none",children:t("span",{className:"text-sm text-gray-400 font-medium px-3",children:"GHS"})})]}),t("div",{className:`relative ${e.buy_x_get_y_condition_type==="value"||e.buy_x_get_y_condition_type===""?"hidden":"block"}`,children:t("input",{id:"buy_x_get_y_condition_value",name:"buy_x_get_y_condition_value",onChange:d,onBlur:_,value:e.buy_x_get_y_condition_value,className:"form-input w-full pr-8",step:1,min:1,type:"number",placeholder:"1"})})]}),t("div",{className:"w-full",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"buy_x_get_y_condition_range_type",children:"Any Items from"}),n("select",{name:"buy_x_get_y_condition_range_type",onChange:d,onBlur:_,value:e.buy_x_get_y_condition_range_type,id:"buy_x_get_y_condition_range_type",className:"form-select block w-2/3",children:[t("option",{value:"specific_products",children:"Specific products"}),t("option",{value:"specific_collections",children:"Specific collections"})]})]})})]}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:e.buy_x_get_y_condition_range_type==="specific_products"?n("div",{className:"w-full",children:[n("div",{className:"w-full",children:[n("div",{onClick:c=>{c.stopPropagation(),ke(!Ne)},className:"flex border-1 rounded",children:[t("input",{type:"text",className:"form-input w-full",placeholder:"Search products..."}),t("button",{className:"flex items-center justify-center px-4 border-l",children:t("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:t("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})})})]}),t(G,{id:"quick-find-modal-cr",searchId:"quick-find-cr",modalOpen:Ne,setModalOpen:ke,queryURL:A,composeQuery:ue,matchKey:"key",queryKey:"products-opt-search",handleResultSelected:c=>{const f=c.map(b=>b.key),u=O(f,te);S(p,"buy_x_get_y_condition_range_keys")(u),re(u),s.invalidateQueries(["cond-range-included-products",r])},alreadySelected:O(e.buy_x_get_y_condition_range_keys,te),placeholder:"Products",queryEnabled:!!(i==null?void 0:i.shop_id)})]}),t("div",{children:pt.map(c=>n("div",{className:"flex items-center",children:[t("div",{className:"flex-shrink-0 h-10 w-10",children:t("img",{className:"h-10 w-10",src:c.image_url,alt:c.label})}),n("div",{className:"ml-4 flex justify-between",children:[t("div",{className:"text-sm font-medium text-gray-900",children:c.label}),t("div",{onClick:f=>{f.stopPropagation(),re(u=>u.filter(b=>b!==c.key)),s.invalidateQueries(["cond-range-included-products",r])},className:"text-sm text-gray-500 cursor-pointer",children:"X"})]})]},c.key))})]}):n("div",{className:"w-full",children:[n("div",{className:"w-full",children:[n("div",{onClick:c=>{c.stopPropagation(),Se(!we)},className:"flex border-1 rounded",children:[t("input",{type:"text",className:"form-input w-full",placeholder:"Search collections..."}),t("button",{className:"flex items-center justify-center px-4 border-l",children:t("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:t("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})})})]}),t(G,{id:"quick-find-modal-cr",searchId:"quick-find-cr",modalOpen:we,setModalOpen:Se,queryURL:E,composeQuery:pe,matchKey:"key",queryKey:"collections-opt-search",handleResultSelected:c=>{const f=c.map(b=>b.key),u=O(f,ie);S(p,"buy_x_get_y_condition_range_keys")(u),de(u),s.invalidateQueries(["cond-range-included-collections",r])},alreadySelected:O(e.buy_x_get_y_condition_range_keys,ie),placeholder:"Collections",queryEnabled:!!(i==null?void 0:i.shop_id)})]}),t("div",{children:yt.map(c=>n("div",{className:"flex items-center",children:[t("div",{className:"flex-shrink-0 h-10 w-10",children:t("img",{className:"h-10 w-10",src:c.image_url,alt:c.label})}),n("div",{className:"ml-4 flex justify-between",children:[t("div",{className:"text-sm font-medium text-gray-900",children:c.label}),t("div",{onClick:f=>{f.stopPropagation(),de(u=>u.filter(b=>b!==c.key)),s.invalidateQueries(["cond-range-included-collections",r])},className:"text-sm text-gray-500 cursor-pointer",children:"X"})]})]},c.key))})]})})]})]}),n("section",{className:`rounded bg-white shadow overflow-hidden p-3 mb-10 ${e.incentive_type==="buy-x-get-y"?"block":"hidden"}`,children:[t("h2",{className:"block text-lg font-semibold mb-1",children:"Customer gets"}),n("div",{children:[n("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:[n("div",{className:"w-1/2",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"buy_x_get_y_ben_max_affected_items",children:"Quantity"}),t("input",{id:"buy_x_get_y_ben_max_affected_items",name:"buy_x_get_y_ben_max_affected_items",onChange:d,onBlur:_,value:e.buy_x_get_y_ben_max_affected_items,className:"form-input w-1/2",step:1,min:1,type:"number",placeholder:"1"})]}),t("div",{className:"w-full",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"buy_x_get_y_ben_range_type",children:"Any Items from"}),n("select",{name:"buy_x_get_y_ben_range_type",onChange:d,onBlur:_,value:e.buy_x_get_y_ben_range_type,id:"buy_x_get_y_ben_range_type",className:"form-select block w-2/3",children:[t("option",{value:"specific_products",children:"Specific products"}),t("option",{value:"specific_collections",children:"Specific collections"})]})]})})]}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:e.buy_x_get_y_ben_range_type==="specific_products"?n("div",{className:"w-full",children:[n("div",{className:"w-full",children:[n("div",{onClick:c=>{c.stopPropagation(),Oe(!Ce)},className:"flex border-1 rounded",children:[t("input",{type:"text",className:"form-input w-full",placeholder:"Search products..."}),t("button",{className:"flex items-center justify-center px-4 border-l",children:t("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:t("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})})})]}),t(G,{id:"quick-find-modal-br",searchId:"quick-find-br",modalOpen:Ce,setModalOpen:Oe,queryURL:A,composeQuery:ue,matchKey:"key",queryKey:"products-opt-search",handleResultSelected:c=>{const f=c.map(b=>b.key),u=O(f,ne);S(p,"buy_x_get_y_ben_range_keys")(u),_e(u),s.invalidateQueries(["ben-range-included-products",r])},alreadySelected:O(e.buy_x_get_y_ben_range_keys,ne),placeholder:"Products",queryEnabled:!!(i==null?void 0:i.shop_id)})]}),t("div",{children:ft.map(c=>n("div",{className:"flex items-center",children:[t("div",{className:"flex-shrink-0 h-10 w-10",children:t("img",{className:"h-10 w-10",src:c.image_url,alt:c.label})}),n("div",{className:"ml-4 flex justify-between",children:[t("div",{className:"text-sm font-medium text-gray-900",children:c.label}),t("div",{onClick:f=>{f.stopPropagation(),_e(u=>u.filter(b=>b!==c.key)),s.invalidateQueries(["ben-range-included-products",r])},className:"text-sm text-gray-500 cursor-pointer",children:"X"})]})]},c.key))})]}):n("div",{className:"w-full",children:[n("div",{className:"w-full",children:[n("div",{onClick:c=>{c.stopPropagation(),Pe(!Ie)},className:"flex border-1 rounded",children:[t("input",{type:"text",className:"form-input w-full",placeholder:"Search collections..."}),t("button",{className:"flex items-center justify-center px-4 border-l",children:t("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:t("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})})})]}),t(G,{id:"quick-find-modal-br",searchId:"quick-find-br",modalOpen:Ie,setModalOpen:Pe,queryURL:E,composeQuery:pe,matchKey:"key",queryKey:"collections-opt-search",handleResultSelected:c=>{const f=c.map(b=>b.key),u=O(f,ce);S(p,"buy_x_get_y_ben_range_keys")(u),me(u),s.invalidateQueries(["cond-range-included-collections",r])},alreadySelected:O(e.buy_x_get_y_ben_range_keys,ce),placeholder:"Collections",queryEnabled:!!(i==null?void 0:i.shop_id)})]}),t("div",{children:bt.map(c=>n("div",{className:"flex items-center",children:[t("div",{className:"flex-shrink-0 h-10 w-10",children:t("img",{className:"h-10 w-10",src:c.image_url,alt:c.label})}),n("div",{className:"ml-4 flex justify-between",children:[t("div",{className:"text-sm font-medium text-gray-900",children:c.label}),t("div",{onClick:f=>{f.stopPropagation(),me(u=>u.filter(b=>b!==c.key)),s.invalidateQueries(["ben-range-included-collections",r])},className:"text-sm text-gray-500 cursor-pointer",children:"X"})]})]},c.key))})]})}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"applies_to",children:"AT A DISCOUNTED VALUE"}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"buy_x_get_y_discounted_value_type",className:"form-radio",onChange:c=>p("buy_x_get_y_discounted_value_type","percentage"),checked:e.buy_x_get_y_discounted_value_type==="percentage",value:e.buy_x_get_y_discounted_value_type}),t("span",{className:"text-sm ml-2",children:"Percentage"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"buy_x_get_y_discounted_value_type",className:"form-radio",onChange:c=>p("buy_x_get_y_discounted_value_type","fixed_discount"),checked:e.buy_x_get_y_discounted_value_type==="fixed_discount",value:e.buy_x_get_y_discounted_value_type}),t("span",{className:"text-sm ml-2",children:"Fixed discount"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"buy_x_get_y_discounted_value_type",className:"form-radio",onChange:c=>p("buy_x_get_y_discounted_value_type","free"),checked:e.buy_x_get_y_discounted_value_type==="free",value:e.buy_x_get_y_discounted_value_type}),t("span",{className:"text-sm ml-2",children:"Free"})]})})]})}),n("div",{className:`relative w-1/2 ${e.buy_x_get_y_discounted_value_type==="free"||e.buy_x_get_y_condition_type===""?"hidden":"block"}`,children:[t("input",{id:"buy_x_get_y_discounted_value",name:"buy_x_get_y_discounted_value",onChange:d,onBlur:_,value:e.buy_x_get_y_discounted_value,className:`form-input w-full pr-8 ${(e.buy_x_get_y_discounted_value_type==="fixed_price"||e.buy_x_get_y_discounted_value_type==="fixed_discount"||e.buy_x_get_y_discounted_value_type==="fixed_discount")&&"pl-12"}`,type:"text"}),e.buy_x_get_y_discounted_value_type==="percentage"&&t("div",{className:"absolute inset-0 left-auto flex items-center pointer-events-none",children:t("span",{className:"text-sm text-gray-400 font-medium px-3",children:"%"})}),(e.buy_x_get_y_discounted_value_type==="fixed_price"||e.buy_x_get_y_discounted_value_type==="fixed_discount"||e.buy_x_get_y_discounted_value_type==="fixed_discount")&&t("div",{className:"absolute inset-0 right-auto flex items-center pointer-events-none",children:t("span",{className:"text-sm text-gray-400 font-medium px-3",children:"GHS"})})]})]})]}),t("section",{className:"rounded bg-white overflow-hidden p-3 mb-10",children:n("div",{className:"sm:col-span-3 md:col-span-3",children:[n("section",{className:`rounded bg-white overflow-hidden p-3 ${e.incentive_type==="buy-x-get-y"||e.incentive_type==="multibuy"?"hidden":"block"}`,children:[n("div",{className:"sm:w-1/2 mb-4",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"value",children:"Value"}),n("div",{className:"relative",children:[t("input",{id:"value",name:"value",onChange:d,onBlur:_,value:e.value,className:"form-input w-full pr-8",type:"text"}),e.incentive_type==="percentage"&&t("div",{className:"absolute inset-0 left-auto flex items-center pointer-events-none",children:t("span",{className:"text-sm text-gray-400 font-medium px-3",children:"%"})}),(e.incentive_type==="fixed_price"||e.incentive_type==="fixed_discount")&&t("div",{className:"absolute inset-0 right-auto flex items-center pointer-events-none",children:t("span",{className:"text-sm text-gray-400 font-medium px-3",children:"GHS"})})]})]}),t($t,{}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"applies_to",children:"APPLIES TO"}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"applies_to",className:"form-radio",onChange:c=>p("applies_to","all_products"),checked:e.applies_to==="all_products",value:e.applies_to}),t("span",{className:"text-sm ml-2",children:"All products"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"applies_to",className:"form-radio",onChange:c=>p("applies_to","specific_products"),checked:e.applies_to==="specific_products",value:e.applies_to}),t("span",{className:"text-sm ml-2",children:"Specific products"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"applies_to",className:"form-radio",onChange:c=>p("applies_to","specific_collections"),checked:e.applies_to==="specific_collections",value:e.applies_to}),t("span",{className:"text-sm ml-2",children:"Specific collections"})]})})]})}),t("div",{className:`${e.applies_to==="all_products"||e.applies_to===""?"hidden":"block"}`,children:t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:e.applies_to==="specific_products"?n("div",{className:"w-full",children:[n("div",{className:"w-full",children:[n("div",{onClick:c=>{c.stopPropagation(),ge(!K)},className:"flex border-1 rounded",children:[t("input",{type:"text",className:"form-input w-full",placeholder:"Search products..."}),t("button",{className:"flex items-center justify-center px-4 border-l",children:t("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:t("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})})})]}),t(G,{id:"quick-find-modal-ip",searchId:"quick-find-ip",modalOpen:K,setModalOpen:ge,queryURL:A,composeQuery:ue,matchKey:"key",queryKey:"products-opt-search",handleResultSelected:c=>{const f=c.map(b=>b.key),u=O(f,V);S(p,"included_products")(u),se(u),s.invalidateQueries(["included-products",r])},alreadySelected:O(e.included_products,V),placeholder:"Products",queryEnabled:!!(i==null?void 0:i.shop_id)})]}),t("div",{children:mt.map(c=>n("div",{className:"flex items-center",children:[t("div",{className:"flex-shrink-0 h-10 w-10",children:t("img",{className:"h-10 w-10",src:c.image_url,alt:c.label})}),n("div",{className:"ml-4 flex justify-between",children:[t("div",{className:"text-sm font-medium text-gray-900",children:c.label}),t("div",{onClick:f=>{f.stopPropagation(),se(u=>u.filter(b=>b!==c.key)),s.invalidateQueries(["included-products",r])},className:"text-sm text-gray-500 cursor-pointer",children:"X"})]})]},c.key))})]}):n("div",{className:"w-full",children:[n("div",{className:"w-full",children:[n("div",{onClick:c=>{c.stopPropagation(),ve(!xe)},className:"flex border-1 rounded",children:[t("input",{type:"text",className:"form-input w-full",placeholder:"Search collections..."}),t("button",{className:"flex items-center justify-center px-4 border-l",children:t("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:t("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})})})]}),t(G,{id:"quick-find-modal",searchId:"quick-find",modalOpen:xe,setModalOpen:ve,queryURL:E,composeQuery:pe,matchKey:"key",queryKey:"collections-opt-search",handleResultSelected:c=>{const f=c.map(b=>b.key),u=O(f,ee);S(p,"included_collections")(u),oe(u),s.invalidateQueries(["included-collections",r])},alreadySelected:O(e.included_collections,ee),placeholder:"Collections",queryEnabled:!!(i==null?void 0:i.shop_id)})]}),t("div",{children:ut.map(c=>n("div",{className:"flex items-center",children:[t("div",{className:"flex-shrink-0 h-10 w-10",children:t("img",{className:"h-10 w-10",src:c.image_url,alt:c.label})}),n("div",{className:"ml-4 flex justify-between",children:[t("div",{className:"text-sm font-medium text-gray-900",children:c.label}),t("div",{onClick:f=>{f.stopPropagation(),oe(u=>u.filter(b=>b!==c.key)),s.invalidateQueries(["included-collections",r])},className:"text-sm text-gray-500 cursor-pointer",children:"X"})]})]},c.key))})]})})})]}),n("div",{className:`sm:w-full mt-6 ${e.incentive_type==="buy-x-get-y"?"hidden":"block"}`,children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"condition_type",children:"Requirements"}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"condition_type",className:"form-radio",onChange:c=>p("condition_type","none"),checked:e.condition_type==="none"}),t("span",{className:"text-sm ml-2",children:"None"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"condition_type",className:"form-radio",onChange:c=>p("condition_type","value"),checked:e.condition_type==="value"}),t("span",{className:"text-sm ml-2",children:"Minimum purchase amount"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"condition_type",className:"form-radio",onChange:c=>p("condition_type","count"),checked:e.condition_type==="count"}),t("span",{className:"text-sm ml-2",children:"Minimum quantity of items"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"condition_type",className:"form-radio",onChange:c=>p("condition_type","coverage"),checked:e.condition_type==="coverage"}),t("span",{className:"text-sm ml-2",children:"Minimum quantity of distinct eligible items"})]})}),n("div",{className:"w-1/2",children:[e.condition_type!=="none"&&t("label",{className:"block text-sm font-medium mb-1",htmlFor:"condition_value_*",children:e.condition_type==="count"||e.condition_type==="coverage"?"Quantity":"Amount"}),n("div",{className:`relative ${e.condition_type==="count"||e.condition_type==="coverage"||e.condition_type===""||e.condition_type==="none"?"hidden":"block"}`,children:[t("input",{id:"condition_value_int",className:"form-input w-full pl-12",type:"text",name:"condition_value_int",onChange:d,onBlur:_,value:e.condition_value_int}),t("div",{className:"absolute inset-0 right-auto flex items-center pointer-events-none",children:t("span",{className:"text-sm text-gray-400 font-medium px-3",children:"GHS"})})]}),t("div",{className:`relative ${e.condition_type==="value"||e.condition_type===""||e.condition_type==="none"?"hidden":"block"}`,children:t("input",{id:"condition_value_money",name:"condition_value_money",onChange:d,onBlur:_,value:e.condition_value_money,className:"form-input w-full pr-8",step:1,min:1,type:"text",placeholder:"1"})})]})]}),n("div",{className:"sm:w-1/2 mt-6",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"customer_eligibility",children:"Customer Eligibility"}),n("select",{name:"customer_eligibility",onChange:d,onBlur:_,value:e.customer_eligibility,id:"customer_eligibility",className:"form-select block",children:[t("option",{value:"",children:"Please Select"}),t("option",{value:"everyone",children:"Everyone"}),t("option",{value:"group",children:"Specific group of customers"}),t("option",{value:"specific",children:"Specific customers"})]})]}),n("div",{children:[t("h2",{className:"text-sm header leading-snug text-gray-800 font-bold mb-1 mt-6",children:"Usage Limits"}),n("div",{className:"flex m-3 items-center w-full",children:[t("input",{id:"has_max_global_applications",name:"has_max_global_applications",onChange:d,onBlur:_,className:"form-checkbox",checked:e.has_max_global_applications,type:"checkbox"}),t("label",{className:"block text-sm ml-2",htmlFor:"has_max_global_applications",children:"Limit the number of times this offer can be applied in total"})]}),e.has_max_global_applications?t("div",{className:"w-1/2",children:t("input",{id:"max_global_applications",name:"max_global_applications",onChange:d,onBlur:_,value:e.max_global_applications,className:"form-input block m-3",type:"number",step:1,min:1,autoComplete:"max_global_applications",placeholder:"1"})}):t(le,{}),n("div",{className:"m-3 flex items-center w-full",children:[t("input",{name:"has_max_user_applications",onChange:d,onBlur:_,className:"form-checkbox",checked:e.has_max_user_applications,id:"has_max_user_applications",type:"checkbox"}),t("label",{className:"block text-sm ml-2",htmlFor:"has_max_user_applications",children:"Limit the number of times this offer can be used per customer"})]}),e.has_max_user_applications?t("div",{className:"w-1/2",children:t("input",{id:"max_user_applications",name:"max_user_applications",onChange:d,onBlur:_,value:e.max_user_applications,className:"form-input block m-3",type:"number",step:1,min:1,autoComplete:"max_user_applications",placeholder:"1"})}):t(le,{}),n("div",{className:"flex m-3 items-center w-full",children:[t("input",{name:"has_max_discount",onChange:d,onBlur:_,className:"form-checkbox",checked:e.has_max_discount,id:"has_max_discount",type:"checkbox"}),t("label",{className:"block text-sm ml-2",htmlFor:"has_max_discount",children:"Limit the total value of this discount"})]}),e.has_max_discount?t("div",{className:"w-1/2",children:t("input",{id:"max_discount",name:"max_discount",onChange:d,onBlur:_,value:e.max_discount,className:"form-input block m-3",type:"number",step:1,min:1,autoComplete:"max_discount",placeholder:"1"})}):t(le,{})]})]})}),n("section",{className:"rounded bg-white shadow overflow-hidden p-3 mb-10",children:[t("h2",{className:"text-sm header leading-snug text-gray-800 font-bold mb-1",children:"Active Dates"}),n("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:[n("div",{className:"sm:w-1/2",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"start_date",children:"Start Date"}),t("input",{id:"start_date",name:"start_date",onChange:d,onBlur:_,value:e.start_date,className:"form-input w-full",type:"date",placeholder:"RS6TR"})]}),n("div",{className:"sm:w-1/2",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"start_time",children:"Start time"}),t("input",{id:"start_time",name:"start_time",onChange:d,onBlur:_,value:e.start_time,className:"form-input",type:"time",placeholder:"217328189902301"})]})]}),n("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:[n("div",{className:"sm:w-1/2",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"end_date",children:"End Date"}),t("input",{id:"end_date",name:"end_date",onChange:d,onBlur:_,value:e.end_date,className:"form-input w-full",type:"date",placeholder:"RS6TR"})]}),n("div",{className:"sm:w-1/2",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"end_time",children:"End time"}),t("input",{id:"end_time",name:"end_time",onChange:d,onBlur:_,value:e.end_time,className:"form-input",type:"time",placeholder:"217328189902301"})]})]})]}),!r&&e.type==="voucher"&&n("section",{className:"rounded bg-white shadow overflow-hidden p-3 mb-10",children:[t("h2",{className:"text-sm header leading-snug text-gray-800 font-bold mb-1",children:"Voucher"}),t("label",{className:"block text-sm font-medium mb-1",htmlFor:"incentive_type",children:"Code type"}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"code_type",className:"form-radio",onChange:c=>p("code_type","single"),checked:e.code_type==="single",value:e.code_type}),t("span",{className:"text-sm ml-2",children:"Single"})]})}),t("div",{className:"m-3",children:n("label",{className:"flex items-center",children:[t("input",{type:"radio",name:"code_type",className:"form-radio",onChange:c=>p("code_type","set"),checked:e.code_type==="set",value:e.code_type}),t("span",{className:"text-sm ml-2",children:"Multi"})]})}),e.code_type==="single"&&t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"code",children:"Code"}),t("input",{id:"code",name:"code",onChange:d,onBlur:_,value:e.code,className:"form-input",type:"text",placeholder:"SPRNGSALE"})]})}),e.code_type==="set"&&n(le,{children:[t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"code_length",children:"Code Length"}),t("input",{id:"code_length",name:"code_length",onChange:d,onBlur:_,value:e.code_length,className:"form-input",type:"number",min:1,step:1,max:10,placeholder:"1"})]})}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"number_of_codes",children:"Number of codes"}),t("input",{id:"number_of_codes",name:"number_of_codes",onChange:d,onBlur:_,value:e.number_of_codes,className:"form-input",type:"number",min:1,step:1,placeholder:"1"})]})})]}),n("div",{className:"sm:w-1/2 mt-6",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"code_usage",children:"Usage"}),n("select",{name:"code_usage",onChange:d,onBlur:_,value:e.code_usage,id:"code_usage",className:"form-select block",children:[t("option",{value:"",children:"Please Select"}),t("option",{value:"multi_use",children:"Can be used multiple times by multiple customers"}),t("option",{value:"single_use",children:"Can be used once by one customer"}),t("option",{value:"once_per_customer",children:"Can only be used once per customer"})]})]})]}),n("section",{className:"rounded bg-white shadow overflow-hidden p-3 mb-10",children:[t("h2",{className:"text-sm header leading-snug text-gray-800 font-bold mb-1",children:"Cover Image"}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:t("div",{className:"w-full",children:t(Lt,{uppy:z,proudlyDisplayPoweredByUppy:!1,showProgressDetails:!0,width:"100%",height:"400px",theme:"light",note:"Images and video only, 2\u20136 files, up to 1 MB",metaFields:[{id:"alt",name:"Alt",placeholder:"describe what the image is about"}]})})})]}),n("section",{className:"rounded bg-white shadow overflow-hidden p-3 mb-10",children:[n("h2",{className:"text-sm header leading-snug text-gray-800 font-bold mb-1",children:["Search Engine Preview",t("p",{className:"text-sm header leading-snug text-gray-800 font-light mb-1",children:"This shows how your product shows up in search results like Google"})]}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"page_title",children:"Page Title"}),t("input",{id:"page_title",name:"page_title",onChange:d,onBlur:_,value:e.page_title,className:"form-input",type:"text",autoComplete:"product-title",placeholder:"wearhebron.com/chilled-beer"})]})}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:n("div",{className:"w-full",children:[t("label",{className:"block text-sm font-medium mb-1",htmlFor:"page_description",children:"Page Description"}),t("textarea",{id:"page_description",name:"page_description",onChange:d,onBlur:_,value:e.page_description,className:"form-textarea w-full",rows:5,placeholder:"E.g. Rocketship Kumasi warehouse, near Santasi somewhere"})]})}),t("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:t("div",{className:"w-full mb-4",children:n("div",{className:"bg-white ml-2",children:[t("h2",{className:"mb-[0px] mt-[25px] font-normal text-blue-700",children:"Wearhebron | Bikershorts"}),t("a",{href:"https://reoplex.com",className:"mb-[0px] text-green-600 text-sm",children:"https://www.wearhebron.com/products/bikershorts"}),t("button",{className:"text-green-600",children:"\u25BC"}),t("p",{className:"w-full h-12 text-gray-600 line-clamp-2",children:"A mutual exclusion (mutex) is a program object that prevents simultaneous access to a shared resource."})]})})})]})]})]}),t("footer",{className:"sticky bottom-0",children:t("div",{className:"flex flex-col py-5 border-t border-gray-200",children:n("div",{className:"flex self-end",children:[t("button",{className:"btn border-teal-200 hover:border-gray-300 text-gray-600",children:"Cancel"}),t("button",{onClick:c=>{c.stopPropagation(),D()},className:"btn bg-blue-600 bg-opacity-100 rounded-lg  text-white ml-3",children:"Save Changes"})]})})})]})})})})};export{gn as default};
