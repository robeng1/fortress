var S=Object.defineProperty,C=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var f=(o,e,l)=>e in o?S(o,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[e]=l,g=(o,e)=>{for(var l in e||(e={}))k.call(e,l)&&f(o,l,e[l]);if(y)for(var l of y(e))R.call(e,l)&&f(o,l,e[l]);return o},b=(o,e)=>C(o,F(e));import{I as j,u as x,g as A,d as i,m as E,F as H,j as t,J as _}from"./vendor.b5508bda.js";import{s as q,a as I,r as L,f as V}from"./index.e01deede.js";function D(){var r,d,p,m;const o=j(),[e]=x(q),[l]=x(I),N=`${V}/shops`,{mutate:w}=A(s=>L(`${N}/${e==null?void 0:e.shop_id}`,{method:"PATCH",body:JSON.stringify(s)}),{onSuccess:s=>{o.setQueryData(["shop",l],s),_("Polices updated succesffully")},onError:s=>{_("Could not policies shop data due to "+s.message)}});return i(E,{children:i(H,{initialValues:{refund_policy:((d=(r=e==null?void 0:e.policies)==null?void 0:r.find(s=>s.p_type==="refund_policy"))==null?void 0:d.body)||"",shipping_policy:((m=(p=e==null?void 0:e.policies)==null?void 0:p.find(s=>s.p_type==="shipping_policy"))==null?void 0:m.body)||""},onSubmit:(s,{setSubmitting:u})=>{var c,n;let a=[];s.refund_policy!==""&&(a=[{p_type:"refund_policy",title:"Refund Policy",body:s.refund_policy}]),s.shipping_policy!==""&&s.refund_policy!==((n=(c=e==null?void 0:e.policies)==null?void 0:c.find(h=>h.p_type==="shipping_policy"))==null?void 0:n.body)&&(a=[{p_type:"shipping_policy",title:"Shipping Policy",body:s.shipping_policy}]),a.length>0&&w(b(g({},e),{policies:a})),u(!1)},children:({values:s,errors:u,touched:a,handleChange:c,handleBlur:n,setFieldValue:h,setFieldError:$,setValues:J,setFieldTouched:K,handleSubmit:v,isSubmitting:Q})=>t("div",{className:"flex-grow",children:[t("div",{className:"md:p-6 p-4 space-y-6",children:[i("section",{children:t("div",{className:"mb-8",children:[i("h2",{className:"text-2xl text-gray-800 font-bold mb-4",children:"Legal Policies"}),i("div",{className:"text-sm",children:"Having a good refund, shipping & terms of service policy is great for conversion"})]})}),t("section",{children:[i("h3",{className:"text-xl leading-snug text-gray-800 font-bold mb-1",children:"Refund Policy"}),i("div",{className:"text-sm",children:"How do you handle refunds?"}),i("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:t("div",{className:"w-full md:w-1/2",children:[i("label",{className:"block text-sm font-medium mb-1",htmlFor:"refund_policy",children:"Refund Policy"}),i("textarea",{id:"refund_policy",name:"refund_policy",className:"form-textarea w-full",value:s.refund_policy,onChange:c,onBlur:n,rows:10,placeholder:"E.g. Rocketship Kumasi warehouse, near Santasi somewhere"})]})})]}),t("section",{children:[i("h3",{className:"text-xl leading-snug text-gray-800 font-bold mb-1",children:"Shipping Policy"}),i("div",{className:"text-sm",children:"How do you handle shipping & returns?"}),i("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mt-5",children:t("div",{className:"w-full md:w-1/2",children:[i("label",{className:"block text-sm font-medium mb-1",htmlFor:"shipping_policy",children:"Shipping Policy"}),i("textarea",{id:"shipping_policy",name:"shipping_policy",value:s.shipping_policy,onChange:c,onBlur:n,className:"form-textarea w-full",rows:10,placeholder:"E.g. Rocketship Kumasi warehouse, near Santasi somewhere"})]})})]})]}),i("footer",{className:"sticky bottom-0",children:i("div",{className:"flex flex-col px-6 py-5 border-t border-gray-200",children:t("div",{className:"flex self-end",children:[i("button",{className:"btn border-gray-200 hover:border-gray-300 text-gray-600",children:"Cancel"}),i("button",{onClick:P=>{P.stopPropagation(),v()},className:"btn bg-blue-600 bg-opacity-100 rounded-lg  text-white ml-3",children:"Save Changes"})]})})})]})})})}export{D as default};
